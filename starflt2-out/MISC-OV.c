// store offset = 0xee30
// overlay size   = 0x0730
// name = 'MISC-_____________'

// =================================
// =========== DICTIONARY ==========
// =================================
// 1869:             .DA bitfield: 0 0 0  codep:0x224c parp:0xcf47 size:0x0006
// 1870:             .EN bitfield: 0 0 0  codep:0x224c parp:0xcf55 size:0x0006
// 1871:             .CA bitfield: 0 0 0  codep:0x224c parp:0xcf63 size:0x0006
// 1872:             .DI bitfield: 0 0 0  codep:0x224c parp:0xcf71 size:0x0006
// 1873:            SEED bitfield: 0 0 0  codep:0x1ab5 parp:0xcf80 size:0x0014
// 1874:            SEED bitfield: 0 0 0  codep:0x83dd parp:0xcf9d size:0x0002
// 1875:            POPU bitfield: 0 0 0  codep:0x224c parp:0xcfa8 size:0x0006
// 1876:           ITEMS bitfield: 0 0 0  codep:0x1ab5 parp:0xcfb8 size:0x0014
// 1877:        ITEMS-OV bitfield: 0 0 0  codep:0x83dd parp:0xcfd9 size:0x0002
// 1878:          /ITEMS bitfield: 0 0 0  codep:0x224c parp:0xcfe6 size:0x0006
// 1879:         >DEBRIS bitfield: 0 0 0  codep:0x224c parp:0xcff8 size:0x0006
// 1880:          ICON-V bitfield: 0 0 0  codep:0x1ab5 parp:0xd009 size:0x0005
// 1881:      UNK_0xd010 bitfield: 0 0 0  codep:0x0000 parp:0xd010 size:0x000d
// 1882:          LISTIC bitfield: 0 0 0  codep:0x83dd parp:0xd028 size:0x0002
// 1883:           ICONS bitfield: 0 0 0  codep:0x224c parp:0xd034 size:0x0006
// 1884:        MOVE-VOC bitfield: 0 0 0  codep:0x1ab5 parp:0xd047 size:0x0014
// 1885:         MOVE-OV bitfield: 0 0 0  codep:0x83dd parp:0xd067 size:0x0ea7
// 1886:      UNK_0xdf10 bitfield: 0 0 0  codep:0x0000 parp:0xdf10 size:0x07de
// 1887:      UNK_0xe6f0 bitfield: 0 0 0  codep:0x7420 parp:0xe6f0 size:0x0754
// 1888:      UNK_0xee46 bitfield: 0 0 0  codep:0x1d29 parp:0xee46 size:0x0002
// 1889:      UNK_0xee4a bitfield: 0 0 0  codep:0x224c parp:0xee4a size:0x007f
// 1890:            .ERR bitfield: 0 0 0  codep:0x4b3b parp:0xeed2 size:0x001c
// 1891:           EINDE bitfield: 0 0 0  codep:0x4b3b parp:0xeef8 size:0x001c
// 1892:      UNK_0xef16 bitfield: 0 0 0  codep:0x7420 parp:0xef16 size:0x0008
// 1893:      UNK_0xef20 bitfield: 0 0 0  codep:0x7420 parp:0xef20 size:0x0003
// 1894:      UNK_0xef25 bitfield: 0 0 0  codep:0x7420 parp:0xef25 size:0x0003
// 1895:            SCNT bitfield: 0 0 0  codep:0x7420 parp:0xef31 size:0x0003
// 1896:      UNK_0xef36 bitfield: 0 0 0  codep:0x224c parp:0xef36 size:0x001a
// 1897:      UNK_0xef52 bitfield: 0 0 0  codep:0x224c parp:0xef52 size:0x001a
// 1898:      UNK_0xef6e bitfield: 0 0 0  codep:0x224c parp:0xef6e size:0x0036
// 1899:      UNK_0xefa6 bitfield: 0 0 0  codep:0x224c parp:0xefa6 size:0x0006
// 1900:      UNK_0xefae bitfield: 0 0 0  codep:0x224c parp:0xefae size:0x0018
// 1901:      UNK_0xefc8 bitfield: 0 0 0  codep:0x224c parp:0xefc8 size:0x0028
// 1902:      UNK_0xeff2 bitfield: 0 0 0  codep:0x1d29 parp:0xeff2 size:0x0014
// 1903:           (TRIM bitfield: 0 0 0  codep:0x224c parp:0xf010 size:0x0030
// 1904:      UNK_0xf042 bitfield: 0 0 0  codep:0x224c parp:0xf042 size:0x0034
// 1905:      UNK_0xf078 bitfield: 0 0 0  codep:0x224c parp:0xf078 size:0x0020
// 1906:      UNK_0xf09a bitfield: 0 0 0  codep:0x224c parp:0xf09a size:0x0024
// 1907:      UNK_0xf0c0 bitfield: 0 0 0  codep:0x224c parp:0xf0c0 size:0x0026
// 1908:           (#IN$ bitfield: 0 0 0  codep:0x224c parp:0xf0f0 size:0x0030
// 1909:      UNK_0xf122 bitfield: 0 0 0  codep:0x0021 parp:0xf122 size:0x0088
// 1910:           (?ART bitfield: 0 0 0  codep:0x224c parp:0xf1b4 size:0x0052
// 1911:      UNK_0xf208 bitfield: 0 0 0  codep:0x224c parp:0xf208 size:0x0036
// 1912:            RSTE bitfield: 0 0 0  codep:0x224c parp:0xf247 size:0x001a
// 1913:           (QUIT bitfield: 0 0 0  codep:0x224c parp:0xf26b size:0x0021
// 1914:           (.0$$ bitfield: 0 0 0  codep:0x224c parp:0xf296 size:0x0019
// 1915:           (0$$$ bitfield: 0 0 0  codep:0x224c parp:0xf2b9 size:0x0036
// 1916:      UNK_0xf2f1 bitfield: 0 0 0  codep:0x224c parp:0xf2f1 size:0x0068
// 1917:      UNK_0xf35b bitfield: 0 0 0  codep:0x224c parp:0xf35b size:0x003a
// 1918:           (?.EQ bitfield: 0 0 0  codep:0x224c parp:0xf39f size:0x007b
// 1919:      UNK_0xf41c bitfield: 0 0 0  codep:0x224c parp:0xf41c size:0x0020
// 1920:           =CARG bitfield: 0 0 0  codep:0x224c parp:0xf446 size:0x00ac
// 1921:           TV?AR bitfield: 0 0 0  codep:0x224c parp:0xf4fc size:0x0064

// =================================
// =========== VARIABLES ===========
// =================================
unsigned char UNK_0xee46[2] = {0x00, 0x00};
unsigned char UNK_0xeff2[20] = {0x03, 0x03, 0x00, 0x22, 0x03, 0x03, 0x80, 0x80, 0x03, 0x03, 0x00, 0x5d, 0x02, 0x02, 0x00, 0x60, 0x02, 0x02, 0x00, 0x90};



// 0xee42: db 0x72 0x00 'r '
  
// ================================================
// 0xee44: WORD 'UNK_0xee46' codep=0x1d29 parp=0xee46
// ================================================
// 0xee46: db 0x00 0x00 '  '
  
// ================================================
// 0xee48: WORD 'UNK_0xee4a' codep=0x224c parp=0xee4a
// ================================================

void UNK_0xee4a()
{
  CURSORS();
  pp_ABLT !();
  Push(cc_4); DUP pp_WBLT !();
  Push(cc_5); pp_LBLT !();
  BLT pp_XBLT +!();
  
}

// 0xee66: db 0x4c 0x22 0x07 0x3f 0x07 0x53 0x45 0x4e 0x53 0x4f 0x52 0x53 0x90 0x16 0x4c 0x22 0xb9 0x9f 0x20 0x0f 0x97 0x3b 0x16 0x9c 0x07 0x3f 0x0e 0x43 0x4f 0x4d 0x4d 0x55 0x4e 0x49 0x43 0x41 0x54 0x49 0x4f 0x4e 0x53 0x90 0x16 0x4c 0x22 0x07 0x3f 0x06 0x4c 0x41 0x53 0x45 0x52 0x53 0x90 0x16 0x4c 0x22 0x07 0x3f 0x08 0x4d 0x49 0x53 0x53 0x49 0x4c 0x45 0x53 0x90 0x16 0x4c 0x22 0x07 0x3f 0x07 0x45 0x4e 0x47 0x49 0x4e 0x45 0x53 0x90 0x16 0x4c 0x22 0x07 0x3f 0x07 0x53 0x48 0x49 0x45 0x4c 0x44 0x53 0x90 0x16 'L" ? SENSORS  L"     ;   ? COMMUNICATIONS  L" ? LASERS  L" ? MISSILES  L" ? ENGINES  L" ? SHIELDS  '
  
// ================================================
// 0xeec9: WORD '.ERR' codep=0x4b3b parp=0xeed2
// ================================================
// 0xeed2: db 0x06 0x00 0x6e 0x3a 0x01 0x00 0x68 0xee 0x02 0x00 0x76 0xee 0x03 0x00 0x93 0xee 0x04 0x00 0xa0 0xee 0x05 0x00 0xaf 0xee 0x06 0x00 0xbd 0xee '  n:  h   v                 '
  
// ================================================
// 0xeeee: WORD 'EINDE' codep=0x4b3b parp=0xeef8
// ================================================
// 0xeef8: db 0x06 0x00 0x6e 0x3a 0x01 0x00 0x3f 0x0f 0x02 0x00 0x81 0x3b 0x03 0x00 0x99 0x3b 0x04 0x00 0x91 0x3b 0x05 0x00 0x30 0x0f 0x06 0x00 0x89 0x3b '  n:  ?    ;   ;   ;  0    ;'
  
// ================================================
// 0xef14: WORD 'UNK_0xef16' codep=0x7420 parp=0xef16
// ================================================
// 0xef16: db 0x14 0x11 0x02 0x20 0x74 0x14 0x1b 0x02 '    t   '
  
// ================================================
// 0xef1e: WORD 'UNK_0xef20' codep=0x7420 parp=0xef20
// ================================================
// 0xef20: db 0x14 0x1f 0x02 '   '
  
// ================================================
// 0xef23: WORD 'UNK_0xef25' codep=0x7420 parp=0xef25
// ================================================
// 0xef25: db 0x14 0x43 0x02 ' C '
  
// ================================================
// 0xef28: WORD 'SCNT' codep=0x7420 parp=0xef31
// ================================================
// 0xef31: db 0x14 0x30 0x02 ' 0 '
  
// ================================================
// 0xef34: WORD 'UNK_0xef36' codep=0x224c parp=0xef36
// ================================================

void UNK_0xef36()
{
  EINDE 2* UNK_0xef16 + 1+ DUP C@ Push(0x0080); OR SWAP C!();
  
}


// ================================================
// 0xef50: WORD 'UNK_0xef52' codep=0x224c parp=0xef52
// ================================================

void UNK_0xef52()
{
  EINDE 2* UNK_0xef16 + 1+ DUP C@ Push(0x007f); AND SWAP C!();
  
}


// ================================================
// 0xef6c: WORD 'UNK_0xef6e' codep=0x224c parp=0xef6e
// ================================================

void UNK_0xef6e()
{
  *PLIST >C+S();
  IOPEN();
  Push(0x000b); Push(0x00f9); IFIND();
  DROP IOPEN();
  CTINIT();
  pp_'.HUFF @ MODULE();
  Push(cc_3); *CLOSE();
  pp_UNK_0xee46 ON();
  SAVE-OV();
  Push(cc_7); Push(1); 
  do // (DO)
  {
  I UNK_0xef36();
  
  } while(...); // (LOOP) 0xfffa
  
}


// ================================================
// 0xefa4: WORD 'UNK_0xefa6' codep=0x224c parp=0xefa6
// ================================================

void UNK_0xefa6()
{
  *SHIP >C+S();
  
}


// ================================================
// 0xefac: WORD 'UNK_0xefae' codep=0x224c parp=0xefae
// ================================================

void UNK_0xefae()
{
  UNK_0xefa6();
  SCNT @ Push(0x0dac); > 
  if (Pop() == 0) goto label622;
  BEEP();
  UNK_0xef6e();
  
  label622:
  ICLOSE();
  
}


// ================================================
// 0xefc6: WORD 'UNK_0xefc8' codep=0x224c parp=0xefc8
// ================================================

void UNK_0xefc8()
{
  UNK_0xefa6();
  DUP EINDE 2* UNK_0xef16 + 1+ C@ Push(cc_7); AND SWAP Push(2); + > 
  if (Pop() == 0) goto label621;
  BEEP();
  UNK_0xef6e();
  
  label621:
  ICLOSE();
  
}


// ================================================
// 0xeff0: WORD 'UNK_0xeff2' codep=0x1d29 parp=0xeff2
// ================================================
// 0xeff2: db 0x03 0x03 0x00 0x22 0x03 0x03 0x80 0x80 0x03 0x03 0x00 0x5d 0x02 0x02 0x00 0x60 0x02 0x02 0x00 0x90 '   "       ]   `    '
  
// ================================================
// 0xf006: WORD '(TRIM' codep=0x224c parp=0xf010
// ================================================

void (TRIM()
{
  @DS pp_BLTSEG !();
  Push(cc_4); * pp_UNK_0xeff2 + >R I C@ pp_LBLT !();
  I 1+ C@ pp_WBLT !();
  R> 2+ pp_ABLT !();
  POS.();
  BLT 
}


// ================================================
// 0xf040: WORD 'UNK_0xf042' codep=0x224c parp=0xf042
// ================================================

void UNK_0xf042()
{
  PAD();
  C@ 
  if (Pop() == 0) goto label635;
  pp_XBLT @ 2* pp_YBLT @ L@PIXEL Push(0xfffc); pp_XBLT +!();
  Push(1); SWAP POLY-ER();
  PAD();
  C@ 1- PAD();
  C!();
  
  goto label636;
  
  label635:
  BEEP();
  
  label636:
  
}


// ================================================
// 0xf076: WORD 'UNK_0xf078' codep=0x224c parp=0xf078
// ================================================

void UNK_0xf078()
{
  Push(0x01f4); Pust(0x0000); TIME 2@ D+ 
  label627:
  TIME 2@ 2OVER();
  D>();
  ?TERMINAL OR 
  if (Pop() == 0) goto label627;
  2DROP 
}


// ================================================
// 0xf098: WORD 'UNK_0xf09a' codep=0x224c parp=0xf09a
// ================================================

void UNK_0xf09a()
{
  @CRS();
  pp_XORMODE ON();
  WHITE WHITE BROWN ?MRC();
  !COLOR();
  UNK_0xee4a();
  UNK_0xf078();
  Push(0xfffc); pp_XBLT +!();
  UNK_0xee4a();
  UNK_0xf078();
  !CRS();
  
}


// ================================================
// 0xf0be: WORD 'UNK_0xf0c0' codep=0x224c parp=0xf0c0
// ================================================

void UNK_0xf0c0()
{
  pp_-AIN @ 
  if (Pop() == 0) goto label629;
  DUP pp_-AIN @ = SWAP Push(0x0030); Push(0x003a); WITHIN();
  OR 
  goto label630;
  
  label629:
  0> 
  label630:
  
}


// ================================================
// 0xf0e6: WORD '(#IN$' codep=0x224c parp=0xf0f0
// ================================================

void (#IN$()
{
  >R PAD();
  I 1+ Push(0); FILL();
  pp_XORMODE ON();
  
  label634:
  UNK_0xf09a();
  'KEY();
  DUP Push(0x005a); Push(0x0080); WITHIN();
  
  if (Pop() == 0) goto label628;
  Push(0x00df); AND 
  label628:
  >R I Push(0x0021); 
// ================================================
// 0xf120: WORD 'UNK_0xf122' codep=0x0021 parp=0xf122
// ================================================
Push(0x005b); WITHIN();
  I Push(cc_BL); = PAD();
  C@ 0> AND OR I UNK_0xf0c0();
  AND PAD();
  C@ I' < AND 
  if (Pop() == 0) goto label631;
  I EMIT I PAD();
  C@ 1+ DUP PAD();
  C!();
  PAD();
  + C!();
  
  goto label633;
  
  label631:
  I Push(cc_8); = 
  if (Pop() == 0) goto label632;
  UNK_0xf042();
  
  goto label633;
  
  label632:
  I Push(0x000d); = NOT I 0> AND 
  if (Pop() == 0) goto label633;
  BEEP();
  
  label633:
  R> Push(0x000d); = PAD();
  C@ 0> AND 
  if (Pop() == 0) goto label634;
  R> DROP PAD();
  
}


// ================================================
// 0xf1aa: WORD '(?ART' codep=0x224c parp=0xf1b4
// ================================================

void (?ART()
{
  >R *STARSH >C+S();
  IOPEN();
  Push(0x000b); R@ Push(0x0028); < R@ Push(cc_8); Push(0x000f); WITHIN();
  NOT AND 
  if (Pop() == 0) goto label614;
  Push(0x0037); 
  goto label616;
  
  label614:
  Push(0x000f); 
  label616:
  IFIND();
  DUP 
  if (Pop() == 0) goto label615;
  DROP IOPEN();
  Push(0x001c); R@ IFIND();
  CDROP();
  
  label615:
  CDROP();
  ICLOSE();
  R> DROP 
}


// ================================================
// 0xf206: WORD 'UNK_0xf208' codep=0x224c parp=0xf208
// ================================================

void UNK_0xf208()
{
  pp_UNK_0xee46 @ 0= Push(0); Push(cc_4); RRND();
  0= AND 
  if (Pop() == 0) goto label619;
  DUP Push(cc_6); = 
  if (Pop() == 0) goto label620;
  UNK_0xefae();
  
  goto label619;
  
  label620:
  DUP Push(cc_3); Push(cc_5); WITHIN();
  
  if (Pop() == 0) goto label619;
  DUP UNK_0xefc8();
  
  label619:
  
}


// ================================================
// 0xf23e: WORD 'RSTE' codep=0x224c parp=0xf247
// ================================================

void RSTE()
{
  UNK_0xefa6();
  Push(cc_7); Push(1); 
  do // (DO)
  {
  I UNK_0xef52();
  
  } while(...); // (LOOP) 0xfffa
  ICLOSE();
  pp_UNK_0xee46 099();
  SAVE-OV();
  
}


// ================================================
// 0xf261: WORD '(QUIT' codep=0x224c parp=0xf26b
// ================================================

void (QUIT()
{
  Push(1); 0MESS();
  @CRS();
  CTINIT();
  Push(0x003f); Push(0x0011); POS.();
  
  (.") string 8 "[ QUIT ]"
  !CRS();
  
}


// ================================================
// 0xf28c: WORD '(.0$$' codep=0x224c parp=0xf296
// ================================================

void (.0$$()
{
  
  (.") string 18 "INSUFFICIENT FUNDS"
  BEEP();
  
}


// ================================================
// 0xf2af: WORD '(0$$$' codep=0x224c parp=0xf2b9
// ================================================

void (0$$$()
{
  Push(1); 0MESS();
  pp_XORMODE 099();
  Push(1); Push(0x0012); CMESS();
  (.0$$();
  !CRS();
  TIME 2@ Push(0x09c4); Pust(0x0000); D+ 
  label613:
  TIME 2@ 2OVER();
  D>();
  ?TERMINAL OR 
  if (Pop() == 0) goto label613;
  2DROP (QUIT();
  
}


// ================================================
// 0xf2ef: WORD 'UNK_0xf2f1' codep=0x224c parp=0xf2f1
// ================================================

void UNK_0xf2f1()
{
  BLACK ERASE-A();
  CTINIT();
  .ERR Push(0x0079); OVER 2* - Push(0x00b4); POS.();
  TYPE pp_XORMODE ON();
  PINK !COLOR();
  >2FONT();
  BEEPON();
  Push(cc_9); Push(0); 
  do // (DO)
  {
  I Push(2); MOD();
  2+ Push(0x03e8); * TONE Push(0x005a); Push(0x009b); POS.();
  
  (.") string 11 "MALFUNCTION"
  Push(0x00fa); MS();
  
  } while(...); // (LOOP) 0xffd0
  BEEPOFF Push(cc_7); pp_#AUX !();
  
}


// ================================================
// 0xf359: WORD 'UNK_0xf35b' codep=0x224c parp=0xf35b
// ================================================

void UNK_0xf35b()
{
  DUP EINDE 2* UNK_0xef16 + C@ Push(0x0064); - ABS();
  Push(0); Push(0x0064); RRND();
  > pp_UNK_0xee46 @ OR 
  if (Pop() == 0) goto label623;
  DUP UNK_0xef36();
  UNK_0xf2f1();
  Push(0); 
  goto label624;
  
  label623:
  DROP Push(1); 
  label624:
  
}


// ================================================
// 0xf395: WORD '(?.EQ' codep=0x224c parp=0xf39f
// ================================================

void (?.EQ()
{
  >R *SHIP >C+S();
  CTINIT();
  I EINDE 2* UNK_0xef16 + 1+ C@ ?DUP 
  if (Pop() == 0) goto label617;
  Push(0x0080); AND 
  if (Pop() == 0) goto label618;
  I .ERR .TTY();
  
  (.") string 13 ": INOPERATIVE"
  Push(0); 
  goto label626;
  
  label618:
  I UNK_0xf208();
  UNK_0xf35b();
  
  label626:
  
  goto label625;
  
  label617:
  UNK_0x3f09();
  UNK_0x531c UNK_0x494a UNK_0x2052 UNK_0x534b UNK_0x4e22 UNK_0x5451 UNK_0x4522 UNK_0x5553 UNK_0x504b UNK_0x4552 UNK_0x2046 UNK_0x4959 pp_UNK_0x4856 UNK_0xf122 UNK_0x50a1 UNK_0xd010 UNK_0xe6f0 UNK_0x2008 UNK_0x9011 
  label625:
  UNK_0x3210 UNK_0xdf10 UNK_0x907b UNK_0x4c18 
// ================================================
// 0xf41a: WORD 'UNK_0xf41c' codep=0x224c parp=0xf41c
// ================================================
UNK_0x2024 
void UNK_0xf41c()
{
  Push(0); 
  label605:
  ?-NULL();
  
  if (Pop() == 0) goto label604;
  IOPEN();
  ?-NULL();
  OR ICLOSE();
  INEXT();
  ?FIRST();
  
  goto label606;
  
  label604:
  Push(1); 
  label606:
  
  if (Pop() == 0) goto label605;
  
}


// ================================================
// 0xf43c: WORD '=CARG' codep=0x224c parp=0xf446
// ================================================

void =CARG()
{
  NULL pp_10*END D!();
  *SHIP >C+S();
  UNK_0xef20 @ +BIT 1+ Push(0x01f4); * *STARSH >C+S();
  IOPEN();
  UNK_0xf41c();
  
  if (Pop() == 0) goto label607;
  Push(0); 
  label609:
  @INST-C();
  Push(0x000b); = @INST-S();
  Push(0x0011); = NOT AND @INST-S();
  Push(0x0030); = NOT AND 
  if (Pop() == 0) goto label608;
  IOPEN();
  
  label612:
  @INST-S();
  Push(cc_6); = @INST-C();
  Push(0x001a); = AND 
  if (Pop() == 0) goto label611;
  INST-QT @ Push(0x000a); U* pp_10*END D!();
  
  label611:
  INST-QT @ + NULL INST-X D!();
  INEXT();
  ?FIRST();
  
  if (Pop() == 0) goto label612;
  ICLOSE();
  
  label608:
  INEXT();
  ?FIRST();
  
  if (Pop() == 0) goto label609;
  
  goto label610;
  
  label607:
  Push(0); 
  label610:
  ICLOSE();
  ICLOSE();
  - DUP UNK_0xef25 !();
  Push(0x000a); U* pp_10*CARG D!();
  ICLOSE();
  
}


// ================================================
// 0xf4f2: WORD 'TV?AR' codep=0x224c parp=0xf4fc
// ================================================

void TV?AR()
{
  >R pp_TV-HOLD @>C+S();
  IOPEN();
  Push(0x000b); R@ Push(0x0028); < R@ Push(cc_8); Push(0x000f); WITHIN();
  NOT AND 
  if (Pop() == 0) goto label601;
  Push(0x0037); 
  goto label603;
  
  label601:
  Push(0x000f); 
  label603:
  IFIND();
  DUP 
  if (Pop() == 0) goto label602;
  DROP IOPEN();
  Push(0x001c); R@ IFIND();
  ICLOSE();
  
  label602:
  Push(2); *CLOSE();
  R> DROP 
}

// 0xf54e: db 0x4d 0x49 0x53 0x43 0x2d 0x5f 0x5f 0x5f 0x5f 0x5f 0x5f 0x5f 0x5f 0x5f 0x5f 0x5f 0x5f 0x5f 0x00 'MISC-_____________ '
  