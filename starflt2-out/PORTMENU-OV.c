// ====== OVERLAY 'PORTMENU-OV' ======
// store offset = 0xece0
// overlay size   = 0x0880

#include"cpu.h"
#include"starflt2.h"


// =================================
// =========== DICTIONARY ==========
// =================================
// 1869:      UNK_0x3f09  codep:0x224c parp:0x3f09 size:0xaee5 C-string:'UNK_0x3f09'
// 1870:            MANX  codep:0x1d29 parp:0xedf7 size:0x0002 C-string:'MANX'
// 1871:            MANY  codep:0x1d29 parp:0xee02 size:0x0002 C-string:'MANY'
// 1872:      UNK_0xee06  codep:0x224c parp:0xee06 size:0x0010 C-string:'UNK_0xee06'
// 1873:      UNK_0xee18  codep:0x224c parp:0xee18 size:0x000e C-string:'UNK_0xee18'
// 1874:      UNK_0xee28  codep:0x224c parp:0xee28 size:0x000e C-string:'UNK_0xee28'
// 1875:      UNK_0xee38  codep:0x224c parp:0xee38 size:0x000e C-string:'UNK_0xee38'
// 1876:      UNK_0xee48  codep:0x224c parp:0xee48 size:0x000e C-string:'UNK_0xee48'
// 1877:      UNK_0xee58  codep:0x224c parp:0xee58 size:0x000e C-string:'UNK_0xee58'
// 1878:      UNK_0xee68  codep:0x224c parp:0xee68 size:0x0008 C-string:'UNK_0xee68'
// 1879:         |REGION  codep:0x224c parp:0xee7c size:0x0052 C-string:'_v_REGION'
// 1880:      UNK_0xeed0  codep:0x1d29 parp:0xeed0 size:0x0002 C-string:'UNK_0xeed0'
// 1881:      UNK_0xeed4  codep:0x1d29 parp:0xeed4 size:0x000f C-string:'UNK_0xeed4'
// 1882:      UNK_0xeee5  codep:0x224c parp:0xeee5 size:0x0028 C-string:'UNK_0xeee5'
// 1883:      UNK_0xef0f  codep:0x1d29 parp:0xef0f size:0x0004 C-string:'UNK_0xef0f'
// 1884:      UNK_0xef15  codep:0x224c parp:0xef15 size:0x000c C-string:'UNK_0xef15'
// 1885:      UNK_0xef23  codep:0x224c parp:0xef23 size:0x0012 C-string:'UNK_0xef23'
// 1886:      UNK_0xef37  codep:0x224c parp:0xef37 size:0x000f C-string:'UNK_0xef37'
// 1887:      UNK_0xef48  codep:0x224c parp:0xef48 size:0x0017 C-string:'UNK_0xef48'
// 1888:      UNK_0xef61  codep:0x224c parp:0xef61 size:0x000e C-string:'UNK_0xef61'
// 1889:      UNK_0xef71  codep:0x224c parp:0xef71 size:0x0014 C-string:'UNK_0xef71'
// 1890:      UNK_0xef87  codep:0x224c parp:0xef87 size:0x0010 C-string:'UNK_0xef87'
// 1891:      UNK_0xef99  codep:0x224c parp:0xef99 size:0x001b C-string:'UNK_0xef99'
// 1892:      UNK_0xefb6  codep:0x224c parp:0xefb6 size:0x001a C-string:'UNK_0xefb6'
// 1893:         (.DOOR)  codep:0x4b3b parp:0xefdc size:0x0020 C-string:'_ro__dot_DOOR_rc_'
// 1894:      UNK_0xeffe  codep:0x224c parp:0xeffe size:0x000e C-string:'UNK_0xeffe'
// 1895:      UNK_0xf00e  codep:0x224c parp:0xf00e size:0x001e C-string:'UNK_0xf00e'
// 1896:      UNK_0xf02e  codep:0x224c parp:0xf02e size:0x004a C-string:'UNK_0xf02e'
// 1897:          STPORT  codep:0x2214 parp:0xf083 size:0x000c C-string:'STPORT'
// 1898:      UNK_0xf091  codep:0x224c parp:0xf091 size:0x000e C-string:'UNK_0xf091'
// 1899:      UNK_0xf0a1  codep:0x224c parp:0xf0a1 size:0x0014 C-string:'UNK_0xf0a1'
// 1900:      UNK_0xf0b7  codep:0x224c parp:0xf0b7 size:0x0105 C-string:'UNK_0xf0b7'
// 1901:      UNK_0xf1be  codep:0x1d29 parp:0xf1be size:0x0002 C-string:'UNK_0xf1be'
// 1902:      UNK_0xf1c2  codep:0x1d29 parp:0xf1c2 size:0x0002 C-string:'UNK_0xf1c2'
// 1903:      UNK_0xf1c6  codep:0x1d29 parp:0xf1c6 size:0x000c C-string:'UNK_0xf1c6'
// 1904:      UNK_0xf1d4  codep:0x1d29 parp:0xf1d4 size:0x009a C-string:'UNK_0xf1d4'
// 1905:      UNK_0xf270  codep:0x1d29 parp:0xf270 size:0x0038 C-string:'UNK_0xf270'
// 1906:      UNK_0xf2aa  codep:0x224c parp:0xf2aa size:0x001c C-string:'UNK_0xf2aa'
// 1907:      UNK_0xf2c8  codep:0x224c parp:0xf2c8 size:0x003e C-string:'UNK_0xf2c8'
// 1908:      UNK_0xf308  codep:0x224c parp:0xf308 size:0x0034 C-string:'UNK_0xf308'
// 1909:      UNK_0xf33e  codep:0x224c parp:0xf33e size:0x0006 C-string:'UNK_0xf33e'
// 1910:      UNK_0xf346  codep:0x224c parp:0xf346 size:0x000a C-string:'UNK_0xf346'
// 1911:      UNK_0xf352  codep:0x224c parp:0xf352 size:0x000c C-string:'UNK_0xf352'
// 1912:      UNK_0xf360  codep:0x224c parp:0xf360 size:0x001c C-string:'UNK_0xf360'
// 1913:      UNK_0xf37e  codep:0x224c parp:0xf37e size:0x0050 C-string:'UNK_0xf37e'
// 1914:      UNK_0xf3d0  codep:0x224c parp:0xf3d0 size:0x003e C-string:'UNK_0xf3d0'
// 1915:      UNK_0xf410  codep:0x224c parp:0xf410 size:0x0018 C-string:'UNK_0xf410'
// 1916:      UNK_0xf42a  codep:0x224c parp:0xf42a size:0x005a C-string:'UNK_0xf42a'
// 1917:      UNK_0xf486  codep:0x224c parp:0xf486 size:0x000c C-string:'UNK_0xf486'
// 1918:         DO-ROOM  codep:0x4b3b parp:0xf49e size:0x0020 C-string:'DO_dash_ROOM'
// 1919:      UNK_0xf4c0  codep:0x224c parp:0xf4c0 size:0x0032 C-string:'UNK_0xf4c0'
// 1920:           XWALK  codep:0x4b3b parp:0xf4fc size:0x000c C-string:'XWALK'
// 1921:         WALKIES  codep:0x224c parp:0xf514 size:0x0030 C-string:'WALKIES'
// 1922:            PPIC  codep:0x224c parp:0xf54d size:0x0000 C-string:'PPIC'

// =================================
// =========== VARIABLES ===========
// =================================
unsigned char MANX[2] = {0x06, 0x00}; // MANX
unsigned char MANY[2] = {0x52, 0x00}; // MANY
unsigned char UNK_0xeed0[2] = {0x01, 0x00}; // UNK_0xeed0
unsigned char UNK_0xeed4[15] = {0x07, 0x04, 0x12, 0x1d, 0x27, 0x2d, 0x3c, 0x47, 0x51, 0x5c, 0x66, 0x6e, 0x7c, 0x88, 0x92}; // UNK_0xeed4
unsigned char UNK_0xef0f[4] = {0x56, 0x3a, 0x20, 0x56}; // UNK_0xef0f
unsigned char UNK_0xf1be[2] = {0x3a, 0x20}; // UNK_0xf1be
unsigned char UNK_0xf1c2[2] = {0xff, 0xff}; // UNK_0xf1c2
unsigned char UNK_0xf1c6[12] = {0x00, 0x03, 0x03, 0x00, 0x02, 0x05, 0x00, 0x02, 0x02, 0x0f, 0x03, 0x03}; // UNK_0xf1c6
unsigned char UNK_0xf1d4[154] = {0x1f, 0x1c, 0x84, 0x08, 0xc0, 0x41, 0xf8, 0x00, 0x3e, 0xba, 0x05, 0x0a, 0xc0, 0x06, 0x1f, 0x1c, 0x84, 0x08, 0xc0, 0x41, 0xf8, 0x00, 0x1d, 0xba, 0x04, 0x0a, 0x00, 0x02, 0x1f, 0x1c, 0x84, 0x08, 0xc0, 0x41, 0xf8, 0x00, 0x5c, 0xba, 0x01, 0x0a, 0x80, 0x00, 0x1f, 0x1c, 0x07, 0x0e, 0xe0, 0x01, 0x70, 0x00, 0x2d, 0x54, 0x0d, 0x06, 0xc0, 0x04, 0x1f, 0x1c, 0x07, 0x0e, 0xe0, 0x01, 0x20, 0x00, 0x1c, 0x30, 0x06, 0x04, 0x80, 0x01, 0x1f, 0x1c, 0x07, 0x0e, 0xe0, 0x01, 0x20, 0x00, 0x18, 0x30, 0x02, 0x04, 0x80, 0x01, 0x1f, 0x1c, 0x87, 0x0f, 0xc0, 0xc1, 0xf8, 0x00, 0x1d, 0xba, 0x04, 0x0a, 0x00, 0x02, 0x1f, 0x1c, 0x87, 0x0f, 0xc0, 0xc1, 0xf8, 0x00, 0x5c, 0xba, 0x01, 0x0a, 0x80, 0x00, 0x1f, 0x1c, 0x81, 0x03, 0xc0, 0xc3, 0x70, 0x00, 0x5a, 0x54, 0x05, 0x0c, 0x40, 0x86, 0x1f, 0x1c, 0x81, 0x03, 0xc0, 0xc3, 0x20, 0x00, 0x1c, 0x18, 0x03, 0x04, 0x00, 0x03, 0x1f, 0x1c, 0x81, 0x03, 0xc0, 0xc3, 0x20, 0x00, 0x0c, 0x18, 0x02, 0x04, 0x00, 0x03}; // UNK_0xf1d4
unsigned char UNK_0xf270[56] = {0xc4, 0x00, 0x02, 0x03, 0x1e, 0x01, 0x01, 0x04, 0x14, 0x00, 0x00, 0x05, 0xe2, 0xff, 0x01, 0x04, 0x3c, 0x00, 0x02, 0x03, 0xc4, 0x00, 0xfe, 0x08, 0x1e, 0x01, 0xff, 0x09, 0x14, 0x00, 0x00, 0x0a, 0xe2, 0xff, 0xff, 0x09, 0x3c, 0x00, 0xfe, 0x08, 0x9c, 0x03, 0x00, 0x06, 0x9c, 0x03, 0x00, 0x07, 0x9c, 0xfd, 0x00, 0x01, 0x9c, 0xfd, 0x00, 0x02}; // UNK_0xf270

const unsigned short int cc_STPORT = 0xf086; // STPORT


// 0xecf2: db 0x88 0x00 0x20 0x74 0x14 0x14 0x01 0x20 0x74 0x10 0x20 0x02 0x20 0x74 0x10 0x1f 0x01 0x20 0x74 0x14 0x43 0x02 0x29 0x1d 0x3a 0x20 0x4c 0x22 0x46 0x5a 0xae 0x0b 0x41 0x0e 0x5d 0x17 0x0a 0x00 0x72 0x0f 0xc4 0x4b 0x3b 0x5a 0xae 0x0b 0xe7 0x0f 0x41 0x0e 0x5d 0x17 0x0c 0x00 0x92 0x0f 0xf2 0x0e 0xc4 0x4b 0xf0 0x0d 0xf2 0x0e 0x05 0x10 0xf2 0x0e 0x69 0x8d 0xfb 0x87 0x45 0x8d 0x9d 0x86 0x16 0x88 0x5d 0x17 0x21 0x14 0x5d 0x17 0x64 0x7e 0xc4 0x4b 0x20 0x0f 0x7c 0x63 0x4c 0x6d 0x90 0x16 0x4c 0x22 0xe2 0x9c 0x41 0x0e 0x05 0x10 0xc4 0x4b 0x16 0x26 0x90 0x16 0x4c 0x22 0x02 0x50 0x9d 0x86 0x54 0x5a 0x65 0x6d 0x5d 0x17 0x96 0x00 0xa7 0x53 0x3d 0x0f 0x89 0x11 0xb3 0x0f 0x5d 0x17 0x64 0x00 0xb8 0x15 0x50 0x0e 0x52 0xed 0x0c 0xed 0xd0 0x15 0xf8 0xff 0x51 0x26 0x90 0x16 0x29 0x1d 0x00 0x00 0x4c 0x22 0x00 0x60 0xae 0x0b 0x8a 0xed 0xae 0x0b 0x92 0x0f 0x5d 0x17 0x14 0x00 0xb3 0x0f 0xb4 0x0d 0xb3 0x6b 0x1f 0x7a 0x3f 0x7a 0xf9 0xec 0x92 0x0c 0x41 0x0e 0xa7 0x3b 0xf5 0x12 0x07 0x13 0xf2 0x0e 0x3d 0x0f 0xf5 0x12 0x89 0x12 0xf5 0x12 0xfa 0x15 0x14 0x00 0x50 0x0e 0xfe 0xec 0x92 0x0c 0x72 0x0f 0x5d 0x17 0x64 0x00 0xad 0x11 0xfe 0xec 0x0a 0x6d 0xb1 0x7a 0x8d 0x7a 0xfa 0x15 0xce 0xff 0xdf 0x79 0xdf 0x79 0x90 0x0e 0x32 0x0e 0x00 0x60 0xae 0x0b 0x8a 0xed 0x16 0x6d 0x90 0x16 '   t    t    t    t C ) : L"FZ  A ]   r  K;Z    A ]        K        i   E     ] ! ] d~ K  |cLm  L"  A    K &  L" P  TZem]    S=     ] d   P R       Q&  )   L" `        ]        k z?z    A  ;      =           P     r ] d      m z z     y y  2  `     m  '

// ================================================
// 0xedee: WORD 'MANX' codep=0x1d29 parp=0xedf7
// ================================================
// 0xedf7: db 0x06 0x00 '  '

// ================================================
// 0xedf9: WORD 'MANY' codep=0x1d29 parp=0xee02
// ================================================
// 0xee02: db 0x52 0x00 'R '

// ================================================
// 0xee04: WORD 'UNK_0xee06' codep=0x224c parp=0xee06
// ================================================

void UNK_0xee06() // UNK_0xee06
{
  Push(pp__ask__gt_OP); // ?>OP
  Push(Read16(Pop())); // @
  Push(Read16(sp)); // DUP
  if (Pop() == 0) goto label1;
  BEEP(); // BEEP

  label1:
  if (Pop() == 0) Push(1); else Push(0); // NOT
}


// ================================================
// 0xee16: WORD 'UNK_0xee18' codep=0x224c parp=0xee18
// ================================================

void UNK_0xee18() // UNK_0xee18
{
  UNK_0xee06(); // UNK_0xee06
  if (Pop() == 0) return;
  Push(0xcbcf);
  MODULE(); // MODULE
}


// ================================================
// 0xee26: WORD 'UNK_0xee28' codep=0x224c parp=0xee28
// ================================================

void UNK_0xee28() // UNK_0xee28
{
  UNK_0xee06(); // UNK_0xee06
  if (Pop() == 0) return;
  Push(0xcb98);
  MODULE(); // MODULE
}


// ================================================
// 0xee36: WORD 'UNK_0xee38' codep=0x224c parp=0xee38
// ================================================

void UNK_0xee38() // UNK_0xee38
{
  UNK_0xee06(); // UNK_0xee06
  if (Pop() == 0) return;
  Push(0xc2db);
  MODULE(); // MODULE
}


// ================================================
// 0xee46: WORD 'UNK_0xee48' codep=0x224c parp=0xee48
// ================================================

void UNK_0xee48() // UNK_0xee48
{
  UNK_0xee06(); // UNK_0xee06
  if (Pop() == 0) return;
  Push(0xcca7);
  MODULE(); // MODULE
}


// ================================================
// 0xee56: WORD 'UNK_0xee58' codep=0x224c parp=0xee58
// ================================================

void UNK_0xee58() // UNK_0xee58
{
  UNK_0xee06(); // UNK_0xee06
  if (Pop() == 0) return;
  Push(0xcce1);
  MODULE(); // MODULE
}


// ================================================
// 0xee66: WORD 'UNK_0xee68' codep=0x224c parp=0xee68
// ================================================

void UNK_0xee68() // UNK_0xee68
{
  Push(0xcd3b);
  MODULE(); // MODULE
}


// ================================================
// 0xee70: WORD '|REGION' codep=0x224c parp=0xee7c
// ================================================

void _v_REGION() // |REGION
{
  if (Pop() == 0) goto label1;
  H_gt_D(); // H>D
  goto label2;

  label1:
  D_gt_H(); // D>H

  label2:
  Push(cc_AX); // AX
  _099(); // 099
  Push(pp_YBLT); // YBLT
  Push(Read16(Pop())); // @
  Push(Read16(sp)); // DUP
  Push(cc_BX); // BX
  Push(Pop()+1); // 1+
  C_ex_(); // C!
  Push(cc_DX); // DX
  Push(Pop()+1); // 1+
  C_ex_(); // C!
  Push(pp_XBLT); // XBLT
  Push(Read16(Pop())); // @
  Push(Read16(sp)); // DUP
  Push(cc_BX); // BX
  C_ex_(); // C!
  Push(cc_DX); // DX
  C_ex_(); // C!
  Push(pp_YBLT); // YBLT
  Push(Read16(Pop())); // @
  Push(0x000c);
  _dash_(); // -
  Push(cc_CX); // CX
  Push(Pop()+1); // 1+
  C_ex_(); // C!
  Push(pp_XBLT); // XBLT
  Push(Read16(Pop())); // @
  Push(0x0014);
  Push(Pop() + Pop()); // +
  Push(cc_CX); // CX
  C_ex_(); // C!
  GRCALL(); // GRCALL
}


// ================================================
// 0xeece: WORD 'UNK_0xeed0' codep=0x1d29 parp=0xeed0
// ================================================
// 0xeed0: db 0x01 0x00 '  '

// ================================================
// 0xeed2: WORD 'UNK_0xeed4' codep=0x1d29 parp=0xeed4
// ================================================
// 0xeed4: db 0x07 0x04 0x12 0x1d 0x27 0x2d 0x3c 0x47 0x51 0x5c 0x66 0x6e 0x7c 0x88 0x92 '    '-<GQ\fn|  '

// ================================================
// 0xeee3: WORD 'UNK_0xeee5' codep=0x224c parp=0xeee5
// ================================================

void UNK_0xeee5() // UNK_0xeee5
{
  if (Read16(sp) != 0) Push(Read16(sp)); // ?DUP
  if (Pop() == 0) goto label1;
  Push(Pop()*2); // 2*
  Push(0x0050);
  SWAP(); // SWAP
  _dash_(); // -
  Push(0x00c7);
  POS_dot_(); // POS.
  CTINIT(); // CTINIT
  Push(Read16(sp)); // DUP
  Push(Pop()-1); // 1-
  Push(Read8(Pop())&0xFF); // C@
  Func14("TYPE"); // call of word 0x2690
  return;

  label1:
  Pop(); // DROP
}


// ================================================
// 0xef0d: WORD 'UNK_0xef0f' codep=0x1d29 parp=0xef0f
// ================================================
// 0xef0f: db 0x56 0x3a 0x20 0x56 'V: V'

// ================================================
// 0xef13: WORD 'UNK_0xef15' codep=0x224c parp=0xef15
// ================================================

void UNK_0xef15() // UNK_0xef15
{
  TIME(); // TIME
  _2_at_(); // 2@
  Push(pp_UNK_0xef0f); // UNK_0xef0f
  _2_at_(); // 2@
  D_gt_(); // D>
}


// ================================================
// 0xef21: WORD 'UNK_0xef23' codep=0x224c parp=0xef23
// ================================================

void UNK_0xef23() // UNK_0xef23
{
  TIME(); // TIME
  _2_at_(); // 2@
  Push(0x9c40); Pust(0x0000);
  D_plus_(); // D+
  Push(pp_UNK_0xef0f); // UNK_0xef0f
  D_ex_(); // D!
}


// ================================================
// 0xef35: WORD 'UNK_0xef37' codep=0x224c parp=0xef37
// ================================================

void UNK_0xef37() // UNK_0xef37
{

  UNK_0x3f09("OPERATIONS");
}


// ================================================
// 0xef46: WORD 'UNK_0xef48' codep=0x224c parp=0xef48
// ================================================

void UNK_0xef48() // UNK_0xef48
{

  UNK_0x3f09("SHIP CONFIGURATION");
}


// ================================================
// 0xef5f: WORD 'UNK_0xef61' codep=0x224c parp=0xef61
// ================================================

void UNK_0xef61() // UNK_0xef61
{

  UNK_0x3f09("PERSONNEL");
}


// ================================================
// 0xef6f: WORD 'UNK_0xef71' codep=0x224c parp=0xef71
// ================================================

void UNK_0xef71() // UNK_0xef71
{

  UNK_0x3f09("CREW ASSIGNMENT");
}


// ================================================
// 0xef85: WORD 'UNK_0xef87' codep=0x224c parp=0xef87
// ================================================

void UNK_0xef87() // UNK_0xef87
{

  UNK_0x3f09("TRADE DEPOT");
}


// ================================================
// 0xef97: WORD 'UNK_0xef99' codep=0x224c parp=0xef99
// ================================================

void UNK_0xef99() // UNK_0xef99
{

  UNK_0x3f09("BANK");
}

// 0xefa2: db 0x4c 0x22 0x07 0x3f 0x0b 0x44 0x4f 0x43 0x4b 0x49 0x4e 0x47 0x20 0x42 0x41 0x59 0x90 0x16 'L" ? DOCKING BAY  '

// ================================================
// 0xefb4: WORD 'UNK_0xefb6' codep=0x224c parp=0xefb6
// ================================================

void UNK_0xefb6() // UNK_0xefb6
{
  Push(0x00c7);
  Push(0x002c);
  Push(0x00c0);
  Push(0x0072);
  SetColor("BLACK");
  POLY_dash_WI(); // POLY-WI
  Push(0); // 0
  Push(0); // 0
}


// ================================================
// 0xefd0: WORD '(.DOOR)' codep=0x4b3b parp=0xefdc
// ================================================
// 0xefdc: db 0x07 0x00 0xb6 0xef 0x01 0x00 0x37 0xef 0x02 0x00 0x99 0xef 0x03 0x00 0x61 0xef 0x04 0x00 0x71 0xef 0x05 0x00 0x87 0xef 0x06 0x00 0x48 0xef 0x07 0x00 0xa4 0xef '      7       a   q       H     '

// ================================================
// 0xeffc: WORD 'UNK_0xeffe' codep=0x224c parp=0xeffe
// ================================================

void UNK_0xeffe() // UNK_0xeffe
{
  _at_CRS(); // @CRS
  Push(pp_UNK_0xeed0); // UNK_0xeed0
  Push(Read16(Pop())); // @
  switch(Pop()) // (.DOOR)
  {
  case 1:
    UNK_0xefb6(); // UNK_0xefb6
    break;
  case 2:
    UNK_0xef37(); // UNK_0xef37
    break;
  case 3:
    UNK_0xef99(); // UNK_0xef99
    break;
  case 4:
    UNK_0xef61(); // UNK_0xef61
    break;
  case 5:
    UNK_0xef71(); // UNK_0xef71
    break;
  case 6:
    UNK_0xef87(); // UNK_0xef87
    break;
  case 7:
    UNK_0xef48(); // UNK_0xef48
    break;
  }
  UNK_0xeee5(); // UNK_0xeee5
  _ex_CRS(); // !CRS
}


// ================================================
// 0xf00c: WORD 'UNK_0xf00e' codep=0x224c parp=0xf00e
// ================================================

void UNK_0xf00e() // UNK_0xf00e
{
  Push(2); // 2
  Push(Pop() * Pop()); // *
  Push(pp_UNK_0xeed4); // UNK_0xeed4
  Push(Pop()+1); // 1+
  Push(Pop() + Pop()); // +
  _gt_R(); // >R
  Push(pp_XBLT); // XBLT
  Push(Read16(Pop())); // @
  Push(h); // I
  Push(Read8(Pop())&0xFF); // C@
  R_gt_(); // R>
  Push(Pop()+1); // 1+
  Push(Read8(Pop())&0xFF); // C@
  WITHIN(); // WITHIN
}


// ================================================
// 0xf02c: WORD 'UNK_0xf02e' codep=0x224c parp=0xf02e
// ================================================

void UNK_0xf02e() // UNK_0xf02e
{
  Push(pp_UNK_0xeed0); // UNK_0xeed0
  Push(Read16(Pop())); // @
  if (Pop() == 0) Push(1); else Push(0); // 0=
  if (Pop() == 0) goto label1;
  Push(pp_UNK_0xeed4); // UNK_0xeed4
  Push(Read8(Pop())&0xFF); // C@
  Push(0); // 0

  signed short int i = Pop();
  signed short int imax = Pop();
  do // (DO)
  {
  Push(i); // I
  UNK_0xf00e(); // UNK_0xf00e
  if (Pop() == 0) goto label2;
  Push(i); // I
  Push(Pop()+1); // 1+
  Push(pp_UNK_0xeed0); // UNK_0xeed0
  _ex_(); // !
  UNK_0xeffe(); // UNK_0xeffe
  LEAVE(); // LEAVE

  label2:
  i++;
  } while(i<imax); // (LOOP) 0xffea

  return;

  label1:
  Push(pp_UNK_0xeed0); // UNK_0xeed0
  Push(Read16(Pop())); // @
  Push(Pop()-1); // 1-
  UNK_0xf00e(); // UNK_0xf00e
  if (Pop() == 0) Push(1); else Push(0); // 0=
  if (Pop() == 0) return;
  Push(pp_UNK_0xeed0); // UNK_0xeed0
  _099(); // 099
  UNK_0xeffe(); // UNK_0xeffe
}

// 0xf072: db 0x29 0x1d 0x3a 0x20 0x05 0x41 ') :  A'

// ================================================
// 0xf078: WORD 'STPORT' codep=0x2214 parp=0xf083
// ================================================
// 0xf083: db 0x86 0xf0 0x00 0x70 0x6f 0x72 0x74 0x2e 0x72 0x61 0x77 0x00 '   port.raw '

// ================================================
// 0xf08f: WORD 'UNK_0xf091' codep=0x224c parp=0xf091
// ================================================

void UNK_0xf091() // UNK_0xf091
{
  SAVE_dash_BU(); // SAVE-BU
  Push(cc_STPORT); // STPORT
  Push(pp_PIC_h_); // PIC^
  Push(Read16(Pop())); // @
  _ro_LDS_rc_(); // (LDS)
  MOUNTB(); // MOUNTB
}


// ================================================
// 0xf09f: WORD 'UNK_0xf0a1' codep=0x224c parp=0xf0a1
// ================================================

void UNK_0xf0a1() // UNK_0xf0a1
{
  CTINIT(); // CTINIT
  Push(0xaa3b);
  Push(pp_ASKMOUN); // ASKMOUN
  _ex_(); // !
  Push(0xaa1d);
  Push(pp__i_VERSIO); // 'VERSIO
  _ex_(); // !
}


// ================================================
// 0xf0b5: WORD 'UNK_0xf0b7' codep=0x224c parp=0xf0b7
// ================================================

void UNK_0xf0b7() // UNK_0xf0b7
{
  _gt_DISPLA(); // >DISPLA
  DARK(); // DARK
  _gt_SSCT(); // >SSCT
  CTINIT(); // CTINIT
  _ask_CGA(); // ?CGA
  if (Pop() == 0) goto label1;

  UNK_0x3f09("WAIT..");
  _dot_TTY(); // .TTY

  label1:
  Push(pp_PIC_h_); // PIC^
  Push(Read16(Pop())); // @
  Push(0); // 0
  Push(pp_XBUF_dash_SE); // XBUF-SE
  Push(Read16(Pop())); // @
  Push(0); // 0
  Push(0x3ded);
  LCMOVE(); // LCMOVE
  Push(pp__ask_EGA); // ?EGA
  Push(Read16(Pop())); // @
  if (Pop() == 0) goto label2;
  _gt_HIDDEN(); // >HIDDEN
  goto label3;

  label2:
  _gt_DISPLA(); // >DISPLA

  label3:
  DARK(); // DARK
  Push(0xb9f9);
  MODULE(); // MODULE
  Push(0); // 0
  Push(0x0096);
  _dot_RAW(); // .RAW
  UNK_0xf0a1(); // UNK_0xf0a1
  Push(pp__ask_EGA); // ?EGA
  Push(Read16(Pop())); // @
  if (Pop() == 0) goto label4;
  SCR_dash_RES(); // SCR-RES
  goto label5;

  label4:
  SAVE_dash_SC(); // SAVE-SC

  label5:
  H_gt_D(); // H>D
  _gt_DISPLA(); // >DISPLA
}

// 0xf11a: db 0x4c 0x22 0xcb 0x5e 0x57 0x6d 0x5d 0x17 0xf8 0xc1 0xe3 0x60 0x16 0x6d 0x5d 0x17 0xc7 0xc1 0x0d 0x61 0x16 0x6d 0x5d 0x17 0x48 0x3a 0xac 0x60 0x16 0x6d 0x5d 0x17 0x9d 0xc3 0xd5 0x60 0x16 0x6d 0x5d 0x17 0xf9 0xc0 0xc7 0x60 0x16 0x6d 0x5d 0x17 0xcf 0xc3 0xff 0x60 0x16 0x6d 0x5d 0x17 0xe7 0xc0 0xb9 0x60 0x16 0x6d 0x5d 0x17 0x0d 0xca 0xd9 0x84 0x5d 0x17 0x32 0x00 0xa2 0x5e 0x16 0x6d 0x2e 0x53 0x1f 0x7a 0x9f 0x3b 0xf4 0xec 0x92 0x0c 0x9f 0x3b 0xf5 0x12 0x92 0x0f 0x5f 0x61 0x16 0x6d 0x03 0xed 0xae 0x0b 0xdf 0x79 0x5d 0x17 0x0a 0x00 0xd6 0x11 0xfc 0x62 0x4c 0x6d 0xd0 0x55 0x57 0x6d 0xe0 0x5d 0x65 0x6d 0x60 0xed 0x90 0x16 0x4c 0x22 0x5d 0x17 0xcc 0xd4 0xd9 0x84 0xfa 0x15 0x1a 0x00 0x1a 0xf1 0x5d 0x17 0xc3 0xc8 0xd9 0x84 0x5d 0x17 0x91 0xd4 0xd9 0x84 0x8f 0xf0 0x5d 0x17 0xcd 0xc2 0xd9 0x84 0x8e 0xed 0x90 0x16 'L" ^Wm]    ` m]    a m] H: ` m]    ` m]    ` m]    ` m]    ` m]     ] 2  ^ m.S z ;     ;    _a m     y]      bLm UWm ]em`   L"]           ]     ]       ]         '

// ================================================
// 0xf1bc: WORD 'UNK_0xf1be' codep=0x1d29 parp=0xf1be
// ================================================
// 0xf1be: db 0x3a 0x20 ': '

// ================================================
// 0xf1c0: WORD 'UNK_0xf1c2' codep=0x1d29 parp=0xf1c2
// ================================================
// 0xf1c2: db 0xff 0xff '  '

// ================================================
// 0xf1c4: WORD 'UNK_0xf1c6' codep=0x1d29 parp=0xf1c6
// ================================================
// 0xf1c6: db 0x00 0x03 0x03 0x00 0x02 0x05 0x00 0x02 0x02 0x0f 0x03 0x03 '            '

// ================================================
// 0xf1d2: WORD 'UNK_0xf1d4' codep=0x1d29 parp=0xf1d4
// ================================================
// 0xf1d4: db 0x1f 0x1c 0x84 0x08 0xc0 0x41 0xf8 0x00 0x3e 0xba 0x05 0x0a 0xc0 0x06 0x1f 0x1c 0x84 0x08 0xc0 0x41 0xf8 0x00 0x1d 0xba 0x04 0x0a 0x00 0x02 0x1f 0x1c 0x84 0x08 0xc0 0x41 0xf8 0x00 0x5c 0xba 0x01 0x0a 0x80 0x00 0x1f 0x1c 0x07 0x0e 0xe0 0x01 0x70 0x00 0x2d 0x54 0x0d 0x06 0xc0 0x04 0x1f 0x1c 0x07 0x0e 0xe0 0x01 0x20 0x00 0x1c 0x30 0x06 0x04 0x80 0x01 0x1f 0x1c 0x07 0x0e 0xe0 0x01 0x20 0x00 0x18 0x30 0x02 0x04 0x80 0x01 0x1f 0x1c 0x87 0x0f 0xc0 0xc1 0xf8 0x00 0x1d 0xba 0x04 0x0a 0x00 0x02 0x1f 0x1c 0x87 0x0f 0xc0 0xc1 0xf8 0x00 0x5c 0xba 0x01 0x0a 0x80 0x00 0x1f 0x1c 0x81 0x03 0xc0 0xc3 0x70 0x00 0x5a 0x54 0x05 0x0c 0x40 0x86 0x1f 0x1c 0x81 0x03 0xc0 0xc3 0x20 0x00 0x1c 0x18 0x03 0x04 0x00 0x03 0x1f 0x1c 0x81 0x03 0xc0 0xc3 0x20 0x00 0x0c 0x18 0x02 0x04 0x00 0x03 '     A  >          A             A  \           p -T             0             0                          \           p ZT  @                             '

// ================================================
// 0xf26e: WORD 'UNK_0xf270' codep=0x1d29 parp=0xf270
// ================================================
// 0xf270: db 0xc4 0x00 0x02 0x03 0x1e 0x01 0x01 0x04 0x14 0x00 0x00 0x05 0xe2 0xff 0x01 0x04 0x3c 0x00 0x02 0x03 0xc4 0x00 0xfe 0x08 0x1e 0x01 0xff 0x09 0x14 0x00 0x00 0x0a 0xe2 0xff 0xff 0x09 0x3c 0x00 0xfe 0x08 0x9c 0x03 0x00 0x06 0x9c 0x03 0x00 0x07 0x9c 0xfd 0x00 0x01 0x9c 0xfd 0x00 0x02 '                <                   <                   '

// ================================================
// 0xf2a8: WORD 'UNK_0xf2aa' codep=0x224c parp=0xf2aa
// ================================================

void UNK_0xf2aa() // UNK_0xf2aa
{
  Push(pp_UNK_0xf1d4); // UNK_0xf1d4
  Push(0x000c);
  Push(Pop() + Pop()); // +
  Push(Read16(Pop())); // @
  Push(0x8040);
  Push(Pop() ^ Pop()); // XOR
  Push(pp_UNK_0xf1d4); // UNK_0xf1d4
  Push(0x000c);
  Push(Pop() + Pop()); // +
  _ex_(); // !
}


// ================================================
// 0xf2c6: WORD 'UNK_0xf2c8' codep=0x224c parp=0xf2c8
// ================================================

void UNK_0xf2c8() // UNK_0xf2c8
{
  _at_CRS(); // @CRS
  Push(pp_UNK_0xf1c6); // UNK_0xf1c6
  Push(pp_UNK_0xf1be); // UNK_0xf1be
  Push(Read16(Pop())); // @
  Push(cc__3); // 3
  Push(Pop() * Pop()); // *
  Push(Pop() + Pop()); // +
  Push(Read16(sp)); // DUP
  Push(Read16(sp)); // DUP
  Push(Read8(Pop())&0xFF); // C@
  _ex_COLOR(); // !COLOR
  Push(Pop()+1); // 1+
  Push(Read8(Pop())&0xFF); // C@
  Push(pp_WBLT); // WBLT
  _ex_(); // !
  Push(Pop()+2); // 2+
  Push(Read8(Pop())&0xFF); // C@
  Push(pp_XBLT); // XBLT
  _plus__ex_(); // +!
  Push(cc__dash_2); // -2
  Push(pp_YBLT); // YBLT
  _plus__ex_(); // +!
  Push(2); // 2
  Push(pp_LBLT); // LBLT
  _ex_(); // !
  Push(pp_UNK_0xf1c2); // UNK_0xf1c2
  Push(pp_ABLT); // ABLT
  _ex_(); // !
  BLT(); // BLT
  _ex_CRS(); // !CRS
}


// ================================================
// 0xf306: WORD 'UNK_0xf308' codep=0x224c parp=0xf308
// ================================================

void UNK_0xf308() // UNK_0xf308
{
  _at_DS(); // @DS
  Push(pp_BLTSEG); // BLTSEG
  _ex_(); // !
  Push(cc__9); // 9
  Push(pp_WBLT); // WBLT
  _ex_(); // !
  Push(0x000c);
  Push(pp_LBLT); // LBLT
  _ex_(); // !
  CTINIT(); // CTINIT
  Push(pp_UNK_0xf1d4); // UNK_0xf1d4
  Push(pp_ABLT); // ABLT
  _ex_(); // !
  Push(pp_MANX); // MANX
  Push(Read16(Pop())); // @
  Push(pp_MANY); // MANY
  Push(Read16(Pop())); // @
  POS_dot_(); // POS.
  Push(0); // 0
  _v_REGION(); // |REGION
  BLT(); // BLT
  Push(pp_UNK_0xf1be); // UNK_0xf1be
  _099(); // 099
  UNK_0xf2c8(); // UNK_0xf2c8
}


// ================================================
// 0xf33c: WORD 'UNK_0xf33e' codep=0x224c parp=0xf33e
// ================================================

void UNK_0xf33e() // UNK_0xf33e
{
  Push(1); // 1
  _v_REGION(); // |REGION
}


// ================================================
// 0xf344: WORD 'UNK_0xf346' codep=0x224c parp=0xf346
// ================================================

void UNK_0xf346() // UNK_0xf346
{
  Push(0); // 0
  _v_REGION(); // |REGION
  BLT(); // BLT
  UNK_0xf2c8(); // UNK_0xf2c8
}


// ================================================
// 0xf350: WORD 'UNK_0xf352' codep=0x224c parp=0xf352
// ================================================

void UNK_0xf352() // UNK_0xf352
{
  Push(0); // 0
  Push(0x03e8);
  Push(1); // 1
  _gt_SND(); // >SND
}


// ================================================
// 0xf35e: WORD 'UNK_0xf360' codep=0x224c parp=0xf360
// ================================================

void UNK_0xf360() // UNK_0xf360
{
  Push(pp_XBLT); // XBLT
  Push(Read16(Pop())); // @
  Push(2); // 2
  MAX(); // MAX
  Push(0x009b);
  MIN(); // MIN
  Push(Read16(sp)); // DUP
  Push(pp_XBLT); // XBLT
  _ex_(); // !
  Push(pp_MANX); // MANX
  _ex_(); // !
  SAVE_dash_OV(); // SAVE-OV
}


// ================================================
// 0xf37c: WORD 'UNK_0xf37e' codep=0x224c parp=0xf37e
// ================================================

void UNK_0xf37e() // UNK_0xf37e
{
  SetColor("WHITE");
  _ex_COLOR(); // !COLOR
  Push(0x000e);
  Push(Pop() * Pop()); // *
  Push(pp_UNK_0xf1d4); // UNK_0xf1d4
  Push(Pop() + Pop()); // +
  Push(pp_ABLT); // ABLT
  _ex_(); // !
  Push(pp_XBLT); // XBLT
  Push(Read16(Pop())); // @
  Push(pp_YBLT); // YBLT
  Push(Read16(Pop())); // @
  _2SWAP(); // 2SWAP
  Push(pp_XBLT); // XBLT
  _plus__ex_(); // +!
  Push(pp_YBLT); // YBLT
  _plus__ex_(); // +!
  UNK_0xf360(); // UNK_0xf360
  Push(pp_XBLT); // XBLT
  Push(Read16(Pop())); // @
  Push(pp_YBLT); // YBLT
  Push(Read16(Pop())); // @
  _2SWAP(); // 2SWAP
  POS_dot_(); // POS.
  DISPLAY(); // DISPLAY
  UNK_0xf33e(); // UNK_0xf33e
  POS_dot_(); // POS.
  UNK_0xf346(); // UNK_0xf346
  Push(Read16(sp)); // DUP
  _0_st_(); // 0<
  if (Pop() == 0) goto label1;
  UNK_0xf352(); // UNK_0xf352

  label1:
  ABS(); // ABS
  Push(cc__3); // 3
  Push(cc__4); // 4
  _star__slash_(); // */
  MS(); // MS
}


// ================================================
// 0xf3ce: WORD 'UNK_0xf3d0' codep=0x224c parp=0xf3d0
// ================================================

void UNK_0xf3d0() // UNK_0xf3d0
{
  UNK_0xef23(); // UNK_0xef23
  Push(pp_UNK_0xf1be); // UNK_0xf1be
  _ex_(); // !
  Push(0); // 0

  signed short int i = Pop();
  signed short int imax = Pop();
  do // (DO)
  {
  Push(pp_UNK_0xf270); // UNK_0xf270
  OVER(); // OVER
  Push(Pop() + Pop()); // +
  Push(i); // I
  Push(cc__4); // 4
  Push(Pop() * Pop()); // *
  Push(Pop() + Pop()); // +
  _gt_R(); // >R
  Push(i); // I
  _plus__dash__at_(); // +-@
  Push(i); // I
  Push(Pop()+1); // 1+
  _plus__dash__at_(); // +-@
  Push(i); // I
  Push(Pop()+2); // 2+
  _plus__dash__at_(); // +-@
  R_gt_(); // R>
  Push(cc__3); // 3
  Push(Pop() + Pop()); // +
  Push(Read8(Pop())&0xFF); // C@
  UNK_0xf37e(); // UNK_0xf37e
  i++;
  } while(i<imax); // (LOOP) 0xffd4

  Pop(); // DROP
  UNK_0xf02e(); // UNK_0xf02e
}


// ================================================
// 0xf40e: WORD 'UNK_0xf410' codep=0x224c parp=0xf410
// ================================================

void UNK_0xf410() // UNK_0xf410
{
  Push(0); // 0
  Push(cc__5); // 5
  Push(1); // 1
  UNK_0xf3d0(); // UNK_0xf3d0
}

// 0xf41a: db 0x4c 0x22 0x5d 0x17 0x14 0x00 0x8f 0x3b 0x3d 0x0f 0xce 0xf3 0x90 0x16 'L"]    ;=     '

// ================================================
// 0xf428: WORD 'UNK_0xf42a' codep=0x224c parp=0xf42a
// ================================================

void UNK_0xf42a() // UNK_0xf42a
{
  SetColor("WHITE");
  _ex_COLOR(); // !COLOR
  Push(pp_ABLT); // ABLT
  Push(Read16(Pop())); // @
  Push(pp_UNK_0xf1d4); // UNK_0xf1d4
  _eq_(); // =
  if (Pop() == 0) goto label1;
  Push(0); // 0
  Push(0x05dc);
  RRND(); // RRND
  if (Pop() == 0) Push(1); else Push(0); // 0=
  UNK_0xef15(); // UNK_0xef15
  Push(Pop() & Pop()); // AND
  if (Pop() == 0) goto label2;
  Push(cc__4); // 4
  Push(0); // 0

  signed short int i = Pop();
  signed short int imax = Pop();
  do // (DO)
  {
  UNK_0xf2aa(); // UNK_0xf2aa
  DISPLAY(); // DISPLAY
  UNK_0xf33e(); // UNK_0xf33e
  UNK_0xf346(); // UNK_0xf346
  Push(0x0032);
  MS(); // MS
  UNK_0xf2aa(); // UNK_0xf2aa
  DISPLAY(); // DISPLAY
  UNK_0xf33e(); // UNK_0xf33e
  UNK_0xf346(); // UNK_0xf346
  UNK_0xf352(); // UNK_0xf352
  Push(0x0096);
  MS(); // MS
  i++;
  } while(i<imax); // (LOOP) 0xffe0


  label2:
  return;

  label1:
  Push(pp_UNK_0xf1be); // UNK_0xf1be
  _099(); // 099
  Push2Words("NULL");
  Push2Words("NULL");
  UNK_0xf37e(); // UNK_0xf37e
}


// ================================================
// 0xf484: WORD 'UNK_0xf486' codep=0x224c parp=0xf486
// ================================================

void UNK_0xf486() // UNK_0xf486
{
  UNK_0xf0b7(); // UNK_0xf0b7
  UNK_0xf308(); // UNK_0xf308
  UNK_0xefb6(); // UNK_0xefb6
  Pop(); Pop();// 2DROP
  UNK_0xeffe(); // UNK_0xeffe
}


// ================================================
// 0xf492: WORD 'DO-ROOM' codep=0x4b3b parp=0xf49e
// ================================================
// 0xf49e: db 0x07 0x00 0x48 0x3a 0x03 0x00 0x18 0xee 0x04 0x00 0x28 0xee 0x06 0x00 0x48 0xee 0x05 0x00 0x58 0xee 0x02 0x00 0x38 0xee 0x01 0x00 0x68 0xee 0x07 0x00 0x98 0xf1 '  H:      (   H   X   8   h     '

// ================================================
// 0xf4be: WORD 'UNK_0xf4c0' codep=0x224c parp=0xf4c0
// ================================================

void UNK_0xf4c0() // UNK_0xf4c0
{
  Push(pp_XBLT); // XBLT
  Push(Read16(Pop())); // @
  Push(pp_MANX); // MANX
  _ex_(); // !
  Push(pp_UNK_0xeed0); // UNK_0xeed0
  Push(Read16(Pop())); // @
  Push(Read16(sp)); // DUP
  if (Pop() == 0) goto label1;
  Push(pp_HUB); // HUB
  _099(); // 099
  Push(pp_ESC_dash_EN); // ESC-EN
  _099(); // 099

  label1:
  switch(Pop()) // DO-ROOM
  {
  case 3:
    NOP(); // NOP
    break;
  case 4:
    UNK_0xee18(); // UNK_0xee18
    break;
  case 6:
    UNK_0xee28(); // UNK_0xee28
    break;
  case 5:
    UNK_0xee48(); // UNK_0xee48
    break;
  case 2:
    UNK_0xee58(); // UNK_0xee58
    break;
  case 1:
    UNK_0xee38(); // UNK_0xee38
    break;
  case 7:
    UNK_0xee68(); // UNK_0xee68
    break;
  }
  Push(pp_UNK_0xeed0); // UNK_0xeed0
  Push(Read16(Pop())); // @
  if (Pop() == 0) return;
  Push(pp_HUB); // HUB
  ON(); // ON
  Push(pp_ESC_dash_EN); // ESC-EN
  ON(); // ON
  UNK_0xf486(); // UNK_0xf486
  UNK_0xef23(); // UNK_0xef23
}


// ================================================
// 0xf4f2: WORD 'XWALK' codep=0x4b3b parp=0xf4fc
// ================================================
// 0xf4fc: db 0x02 0x00 0x48 0x3a 0x01 0x00 0x10 0xf4 0xff 0xff 0x1c 0xf4 '  H:        '

// ================================================
// 0xf508: WORD 'WALKIES' codep=0x224c parp=0xf514
// ================================================
// entry

void WALKIES() // WALKIES
{
  Push(cc__5); // 5
  Push(pp_CONTEXT); // CONTEXT
  _ex_(); // !
  UNK_0xf091(); // UNK_0xf091
  UNK_0xef23(); // UNK_0xef23
  UNK_0xf486(); // UNK_0xf486

  label3:
  XYSCAN(); // XYSCAN
  _2DUP(); // 2DUP
  switch(Pop()) // XWALK
  {
  case 1:
    NOP(); // NOP
    break;
  case 65535:
    UNK_0xf410(); // UNK_0xf410
    break;
  }
  Pop(); // DROP
  Push(Pop() | Pop()); // OR
  if (Pop() == 0) Push(1); else Push(0); // NOT
  if (Pop() == 0) goto label1;
  UNK_0xf42a(); // UNK_0xf42a

  label1:
  _ask_TRIG(); // ?TRIG
  if (Pop() == 0) goto label2;
  UNK_0xf4c0(); // UNK_0xf4c0
  _i_KEY(); // 'KEY
  Pop(); // DROP

  label2:
  goto label3;
}


// ================================================
// 0xf544: WORD 'PPIC' codep=0x224c parp=0xf54d
// ================================================
// entry

void PPIC() // PPIC
{
  UNK_0xf091(); // UNK_0xf091
  UNK_0xf486(); // UNK_0xf486
}

// 0xf553: db 0x50 0x4d 0x2d 0x56 0x4f 0x43 0x5f 0x5f 0x5f 0x5f 0x5f 0x5f 0x5f 0x00 'PM-VOC_______ '
  